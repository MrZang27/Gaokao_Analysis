# 建模思路

2024.5.17

1.  总体思路

    目的：根据不同考生分数、偏好等因素，为考生提供最优专业与学校选择建议。

    衡量标准：各个选择$k$（学校+专业）选择指数$P_{k}$、效用值$U_{k}$、效用概率$P_{u}$、录取概率$P_{admit}$，使$P_{k}$尽可能大。

    目标函数：

    $$P_{k} = P_{u}P_{admit}$$

    $$U_{ik} = w_{i0} + \sum_{j = 1}^{j = J}{w_{ij}x_{jk}} + \sum_{l = 1}^{l = L}{v_{il}y_{ilk}}$$

    $$P_{u} = \frac{exp(U_{ik})}{exp(U_{i1}) + exp(U_{i2}) + ... + exp(U_{ik})} = \frac{exp(U_{ik})}{\sum_{k}^{k = K}{exp(U_{ik})}}$$

    #todo:完善录取概率计算

    $$P_{admit} = P(r_{i},n_{k})$$

    \#$r_{i}$为考生i高考分数排名，$n_{k}$为该选择的招生人数，具体函数形式需要讨论

    假设：

-   各个选择$k$的各项客观指标$x_{jk}$不会变化随考生$i$变化而变化，而各项主观指标$y_{ilk}$则会随考生变化而变化

-   各个考生对各项指标的权重分配$w_{ij}$和$v_{il}$不会随选择$k$变化而变化

-   选择指数分为2个部分，效用概率$P_{u}$和录取概率$P_{admit}$，效用概率$P_{u}$满足MNL模型，录取概率$P_{admit}$满足？

2.  参数指标$x_{jk}$、$y_{ilk}$设置与量化

    说明：$x_{jk} \in \lbrack 0,1\rbrack$，大部分指标均需要根据其它参数进行折算

    #todo每个指标的具体折算方法

    1.  客观指标：

        学校相关：

        $x_{1k}$：学校排名指数（参考QS、泰晤士、USnews等）

        $x_{2k}$：学校综合实力指数（参考学校等级（如985、211、双一流等）、学校科研经费、师资力量）

        $x_{3k}$：学校地理位置（参考城市等级、交通便利程度、与家乡距离等）

        #可以考虑把与家乡距离单独拎出来

        $x_{4k}$：学校环境与设施情况（参考图书馆、宿舍、体育馆、实验室等）

        $x_{5k}$：学校校友资源（参考知名校友数量、？等）

        ......

        专业相关：

        $x_{6k}$：专业就业压力（参考招聘市场需求量、毕业生数量、平均薪水等）

        $x_{7k}$：专业学习难度与压力（参考主修课程平均成绩、学长评价等）

        $x_{8k}$：专业发展潜力（参考平均薪水、国家政策支持度、专业跳槽率、毕业生去向分布等）

        $x_{9k}$：专业社会影响力（参考？）

        ......

    2.  主观指标：

        $y_{i1k}$：专业的兴趣与爱好

        $y_{i2k}$：家庭经济压力（参考学费、生活成本、消费成本、收入情况等）

        ......

3.  模型

    1.  调查数据

        1.  面向往届考生

            数据用于训练模型、测试模型

            原始数据：考生的最终录取去向$K$、考生对各项指标的偏好情况$W_{ij}$和$V_{il}$、考生的主观指标$y_{ilk}$。其中根据问卷设置，$W_{ij},V_{il} \in \lbrack 0,10\rbrack$

        2.  面向应届考生

            数据用于模型应用、测试模型

            原始数据：考生的最终录取去向$K$、考生对各项指标的偏好情况$W_{ij}$和$V_{il}$、考生的主观指标$y_{ilk}$。其中根据问卷设置，$W_{ij},V_{il} \in \lbrack 0,10\rbrack$

    2.  既有数据

        1.  客观指标数据

            待收集

        2.  各学校专业的招生人数和最低录取分数线

            $r_{i\_ min}$为该选择的最低分数排名，$n_{k}$为该选择的招生总人数

        3.  考生排名和一分一段表

    3.  数据处理

        1.  效用模型

            $$\left\{ \begin{array}{r}
            w_{ij} = \alpha_{ij}W_{ij} \\
            v_{il} = \beta_{il}V_{il}
            \end{array} \right.\ $$

            $$U_{ik} = w_{i0} + \sum_{j = 1}^{j = J}{w_{ij}x_{jk}} + \sum_{l = 1}^{l = L}{v_{il}y_{ilk}} = w_{i0} + \sum_{j = 1}^{j = J}{\alpha_{ij}W_{ij}x_{jk}} + \sum_{l = 1}^{l = L}{\beta_{il}V_{il}y_{ilk}} = U_{ik}(W_{ij},V_{il},y_{ilk})$$

            $$P_{u} = \frac{exp(U_{ik})}{\sum_{k}^{k = K}{exp(U_{ik})}} = P_{u}(W_{ij},V_{il},y_{ilk})$$

        2.  录取模型

            #todo:完善录取模型函数

            $$P_{admit} = P(r_{i},n_{k})$$

        3.  选择模型

            #todo:完善选择模型函数

            $$P_{k} = P_{u}P_{admit} = P_{k}(W_{ij},V_{il},y_{ilk},r_{i},n_{k})$$

            #todo:完善参数设定

            涉及参数$\alpha_{ij}$、$\beta_{il}$、?

            总方程满足：

            $$P_{K} = max(P_{k}(W_{ij},V_{il},y_{ilk},r_{i},n_{k}))$$

            通过神经网络、机器学习的方式（考虑RNN、LTSM等神经网络），根据训练集数据得出相关参数$\alpha_{ij}$、$\beta_{il}$、?

        4.  模型验证

            根据(3)所得的参数集，代入验证集数据进行验证，根据验证结果再次迭代(3)(4)步，直至预测准确率足够高

        5.  
